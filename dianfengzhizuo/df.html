<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title>巅峰之作练习</title>
		<link rel="stylesheet" href="css/swiper-3.4.2.min.css" />
		<link rel="stylesheet" href="css/df.css" />
		<script src='js/iscroll-probe.js'></script>
		<script src='js/jquery-3.4.1.js'></script>
		<script src='js/swiper-3.4.2.min.js'></script>
		<script src='js/df.js'></script>
	</head>
	<body>
	<!--头部布局-->
		<div class="zjb-heard">
			<img src="img/qq.png" alt="">
		</div>
	<!--导航条布局-->
	  <div class="navs">
	    <nav>
			<ul>
				<li>精选</li>
				<li>食品</li>
				<li class="active">母婴</li>
				<li>女装</li>
				<li>彩妆</li>
				<li>洗护</li>
				<li>内衣</li>
				<li>其他</li>
				<li>奶粉</li>
				<li>食品</li>
			</ul>
		</nav>
		  <img src="img/qqq.png" alt="">
	  </div>
	<!--内容滚动布局-->
		<div class="zjb-box">
			<div class="zjb-con">
				<!--开始滚动-->

			<!--点击导航切换页面-->
				<div class="swiper-container yemian">
					<div class="swiper-wrapper">
						<div class="swiper-slide">
							<!--轮播图布局-->
							<div class="swiper-container banner">
								<div class="swiper-wrapper">
									<div class="swiper-slide"><img src="img/banner.jpg" alt=""></div>
									<div class="swiper-slide"><img src="img/bb%20(1).jpg" alt=""></div>
									<div class="swiper-slide"><img src="img/bb%20(2).jpg" alt=""></div>
									<div class="swiper-slide"><img src="img/bb%20(3).jpg" alt=""></div>
									<div class="swiper-slide"><img src="img/bb%20(4).jpg" alt=""></div>
									<div class="swiper-slide"><img src="img/bb%20(5).jpg" alt=""></div>
								</div>
								<div class="swiper-pagination"></div>
							</div>

							<!--列表布局-->
							<div class="list">
								<ul>
									<!--<li><img src="img/icon1.jpg" alt=""><a href="">婴童服饰</a></li>-->
									<!--<li><img src="img/icon2.jpg" alt=""><a href="">玩具书籍</a></li>-->
									<!--<li><img src="img/icon3.jpg" alt=""><a href="">婴童寝居</a></li>-->
									<!--<li><img src="img/icon4.jpg" alt=""><a href="">婴童洗护</a></li>-->
									<!--<li><img src="img/icon5.jpg" alt=""><a href="">喂养用品</a></li>-->
									<!--<li><img src="img/icon6.jpg" alt=""><a href="">出行产品</a></li>-->
									<!--<li><img src="img/icon7.jpg" alt=""><a href="">孕产用品</a></li>-->
									<!--<li><img src="img/icon8.jpg" alt=""><a href="">尿不湿</a></li>-->
									<!--<li><img src="img/icon9.jpg" alt=""><a href="">婴童湿巾</a></li>-->
									<!--<li><img src="img/icon10.jpg" alt=""><a href="">奶粉/其他</a></li>-->
								</ul>
							</div>

							<!--条子布局-->
							<div class="tiao">
								<h3>综合</h3>
								<h3>劵后价</h3>
								<h3>销量</h3>
								<img src="img/a_03.jpg" alt="">
							</div>

							<!--内容布局-->
							<div class="content">
								<ul>
									<!--<li>-->
									<!--<img src="img/content.jpg" alt="">-->
									<!--<div class="right">-->
									<!--<h3><span>淘宝</span>【硬爱】鳄鱼创意整蛊玩具</h3>-->
									<!--<small>￥<span>3.7</span><b>淘宝价￥5.7</b></small>-->
									<!--<big>已售328</big>-->
									<!--<p><i>劵</i><u>2元</u><span>预估佣金￥0.17</span></p>-->
									<!--</div>-->
									<!--</li>-->
								</ul>
							</div>
						</div>
						<div class="swiper-slide">
							<!--内容布局-->
							<div class="content">
								<ul>
									<!--<li>-->
									<!--<img src="img/content.jpg" alt="">-->
									<!--<div class="right">-->
									<!--<h3><span>淘宝</span>【硬爱】鳄鱼创意整蛊玩具</h3>-->
									<!--<small>￥<span>3.7</span><b>淘宝价￥5.7</b></small>-->
									<!--<big>已售328</big>-->
									<!--<p><i>劵</i><u>2元</u><span>预估佣金￥0.17</span></p>-->
									<!--</div>-->
									<!--</li>-->
								</ul>
							</div>
						</div>
						<div class="swiper-slide">
							<!--列表布局-->
							<div class="list">
								<ul>
									<!--<li><img src="img/icon1.jpg" alt=""><a href="">婴童服饰</a></li>-->
									<!--<li><img src="img/icon2.jpg" alt=""><a href="">玩具书籍</a></li>-->
									<!--<li><img src="img/icon3.jpg" alt=""><a href="">婴童寝居</a></li>-->
									<!--<li><img src="img/icon4.jpg" alt=""><a href="">婴童洗护</a></li>-->
									<!--<li><img src="img/icon5.jpg" alt=""><a href="">喂养用品</a></li>-->
									<!--<li><img src="img/icon6.jpg" alt=""><a href="">出行产品</a></li>-->
									<!--<li><img src="img/icon7.jpg" alt=""><a href="">孕产用品</a></li>-->
									<!--<li><img src="img/icon8.jpg" alt=""><a href="">尿不湿</a></li>-->
									<!--<li><img src="img/icon9.jpg" alt=""><a href="">婴童湿巾</a></li>-->
									<!--<li><img src="img/icon10.jpg" alt=""><a href="">奶粉/其他</a></li>-->
								</ul>
							</div>

							<!--条子布局-->
							<div class="tiao">
								<h3>综合</h3>
								<h3>劵后价</h3>
								<h3>销量</h3>
								<img src="img/a_03.jpg" alt="">
							</div>
						</div>
						<div class="swiper-slide">44444444444</div>
					</div>
				</div>

				
				<!--滚动结束-->
			</div>
		</div>
	<!--上拉刷新布局-->
	<div class="sl">上拉刷新</div>
	<!--页脚布局-->
		<div class="zjb-foot">
			<ul>
				<li><img src="img/cc_06.jpg" alt=""><a href="">首页</a></li>
				<li><img src="img/cc_08.jpg" alt=""><a href="">分类</a></li>
				<li><img src="img/cc_03.jpg" alt=""></li>
				<li><img src="img/cc_11.jpg" alt=""><a href="">花粉社区</a></li>
				<li><img src="img/cc_13.jpg" alt=""><a href="">我的</a></li>
			</ul>
		</div>
	</body>
</html>
<script>
	//阻止浏览器自带的touchmove事件
	document.addEventListener('touchmove',function(event){
		event.preventDefault();
	},{passive:false});
	//中间滚动内容的布局
	var zjbSc=new IScroll('.zjb-box',{
		probeType:2
	});
	//导航条左右滚动布局
	var nav=new IScroll('nav',{
		scrollX:true,
		scrollY:false
	});
	//轮播图布局
	var banner=new Swiper('.banner',{
		autoplay:1500,
		speed:500,
//		loop:true 有小圆点按钮的时候，不加，否则无效
		pagination:'.swiper-pagination',
		paginationClickable:true,
		effect:"cube"
	});
	//ajax渲染内容
	$.ajax({
		type:'get',
		url:'json/tsconfig.json',
		async:true,
		success: function (ret) {
			var s=ret.list;
			var str1='';
			for(var k in s){
				str1+=`	<li><img src="${s[k].img}" alt="">
				<a href="">${s[k].a}</a></li>`
			}
			$('.list>ul').html(str1);
			var con=ret.con;
			var str='';
			for(var i=0;i<3;i++){
				str+=`
				<li>
				    <img src="${con[i].img}" alt="">
				    <div class="right">
				    	<h3><span>${con[i].a}</span>${con[i].b}</h3>
				    	<small>￥<span>${con[i].c}</span><b>${con[i].d}</b></small>
				    	<big>${con[i].e}</big>
				    	<p><i>劵</i><u>${con[i].f}元</u><span>${con[i].g}</span></p>
				    </div>
			    </li> `;
			}
			$('.content>ul').html(str);
			zjbSc.refresh();
		}
	});
	//上拉刷新布局
	var x=document.querySelector('.sl');
	zjbSc.on("scroll", function () {
		if(zjbSc.startY<zjbSc.maxScrollY-20){
			x.style.display='block';
		}
	});
	var i=3;
	zjbSc.on("scrollEnd", function () {
		if(zjbSc.startY<zjbSc.maxScrollY-20){
			x.innerHTML='正在加载中。。。';
			setTimeout(function () {
				x.style.display='none';
				$.get('json/tsconfig.json',{}, function (ret) {
					var con=ret.con;
					var str='';
//					for(var i in con){
						str+=`
				<li>
				    <img src="${con[i].img}" alt="">
				    <div class="right">
				    	<h3><span>${con[i].a}</span>${con[i].b}</h3>
				    	<small>￥<span>${con[i].c}</span><b>${con[i].d}</b></small>
				    	<big>${con[i].e}</big>
				    	<p><i>劵</i><u>${con[i].f}元</u><span>${con[i].g}</span></p>
				    </div>
			    </li> `;
					i++;
					$('.content>ul').append(str);
					zjbSc.refresh();
				})
			},2000)
		}
	});
	//点击导航切换页面
	var yemian=new Swiper(".yemian",{
		onSlideChangeEnd: function (swiper) {
			var k=swiper.activeIndex;
			$('.navs>nav>ul>li').eq(k).addClass('active').siblings().removeClass('active');
		}
	});
	$('.navs>nav>ul>li').click(function () {
		$(this).addClass('active').siblings().removeClass('active');
		var i=$(this).index();
		yemian.slideTo(i);
	})
	/*打开页面显示，下标为2的母婴，页面也要相对应*/
	var i=2;
	$(function () {
		yemian.slideTo(i);
	});
</script>